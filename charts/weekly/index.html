<!DOCTYPE html>
<meta charset="utf-8">

<link href="../src/nv.d3.css" rel="stylesheet" type="text/css">

<style>

body {
background-color: #ffffff;
  overflow-y:scroll;
}

text {

  font: 12px sans-serif;
}

#chart1, #chart2 {

  height: 500px;
}

</style>
<body>

  <div>
    <svg id="chart1"></svg>
  </div>

  <div>
    <svg id="chart2"></svg>
  </div>

<script src="../lib/d3.v2.js"></script>
<script src="../nv.d3.js"></script>
<script src="../src/utils.js"></script>
<script src="../src/models/axis.js"></script>
<script src="../src/tooltip.js"></script>
<script src="../src/models/legend.js"></script>
<script src="../src/models/axis.js"></script>
<script src="../src/models/scatter.js"></script>
<script src="../src/models/stackedArea.js"></script>
<script src="../src/models/stackedAreaChart.js"></script>
<script>

var data= [{"key":"Bills/Utilities","values":[[1,98.14],[2,348],[3,531.34],[4,788.09],[5,128],[6,366.88],[7,116.86],[8,119.53],[9,118.26],[10,799.12],[11,222.5]]},{"key":"Cash","values":[[1,333.67],[2,766.67],[3,985.67],[4,609.99],[5,671.57],[6,433.63],[7,213.67],[8,2078.27],[9,358.17],[10,617.62],[11,648]]},{"key":"Entertainment","values":[[1,174.18],[2,8.44],[3,23.8],[4,1],[5,20.62],[6,50.9],[7,1],[8,1],[9,71.29],[10,32.65],[11,128.48]]},{"key":"Health","values":[[1,167.53],[2,136.36],[3,129.58],[4,208.48],[5,378.35],[6,149.06],[7,52.61],[8,39.66],[9,104.9],[10,55.33],[11,81.28]]},{"key":"noise","values":[[1,30],[2,30],[3,36],[4,14.14],[5,86.35],[6,17.5],[7,7.72],[8,7.72],[9,7.72],[10,7.72],[11,58.32]]},{"key":"Restaurants","values":[[1,847.22],[2,634.25],[3,955.75],[4,1002.44],[5,1056.36],[6,661.03],[7,1270.65],[8,755.26],[9,768.95],[10,721.91],[11,780.89]]},{"key":"Shopping","values":[[1,1642.76],[2,1617.78],[3,2004.76],[4,1620.96],[5,1434.22],[6,1538.49],[7,2070.77],[8,437.38],[9,446.48],[10,3670.52],[11,1413.42]]},{"key":"Transportation","values":[[1,284.36],[2,175.62],[3,1572.42],[4,379.59],[5,256.59],[6,221.02],[7,174.37],[8,102.49],[9,8.5],[10,218.97],[11,24]]}];
 
 var weekData = [{"key":"Bills/Utilities","values":[[2,1175],[3,0],[4,98.14],[5,0],[6,0],[7,15],[8,1175],[9,333],[10,330],[11,1175],[12,100],[13,84.34],[14,17],[15,1246.5],[16,618.75],[17,97.84],[18,0],[19,1175],[20,0],[21,0],[22,32],[23,96],[24,1175],[25,0],[26,0],[27,366.88],[28,1175],[29,0],[30,116.86],[31,0],[32,0],[33,0],[34,0],[35,102.44],[36,17.09],[37,0],[38,0],[39,0],[40,118.26],[41,1200],[42,1250],[43,0],[44,15.12],[45,734],[46,1200],[47,0],[48,222.5],[49,0]]},{"key":"Cash","values":[[2,93.67],[3,0],[4,160],[5,80],[6,53.67],[7,288],[8,80],[9,80],[10,358.67],[11,320],[12,203.75],[13,160],[14,208.25],[15,84.5],[16,80],[17,200.34],[18,245.15],[19,84],[20,80],[21,153.65],[22,230.17],[23,123.75],[24,220],[25,60],[26,60],[27,93.63],[28,80],[29,60],[30,73.67],[31,0],[32,140],[33,1258.11],[34,120],[35,396.41],[36,163.75],[37,80],[38,0],[39,140],[40,138.17],[41,240],[42,60],[43,20],[44,157.62],[45,448],[46,140],[47,60],[48,140],[49,0]]},{"key":"Entertainment","values":[[2,32.65],[3,0],[4,0],[5,0],[6,141.53],[7,0],[8,0],[9,426.76],[10,21.44],[11,0],[12,0],[13,101.76],[14,23.8],[15,0],[16,0],[17,0],[18,0],[19,0],[20,0],[21,20.62],[22,0],[23,0],[24,32.65],[25,18.25],[26,0],[27,0],[28,0],[29,0],[30,0],[31,0],[32,0],[33,659.46],[34,0],[35,0],[36,0],[37,0],[38,0],[39,0],[40,71.29],[41,0],[42,0],[43,0],[44,32.65],[45,1005.75],[46,128.48],[47,0],[48,0],[49,0]]},{"key":"Health","values":[[2,8.05],[3,41.84],[4,117.64],[5,0],[6,6.99],[7,40.76],[8,27.45],[9,18.57],[10,42.59],[11,13.34],[12,84.42],[13,28.03],[14,3.79],[15,37.71],[16,28.51],[17,47.57],[18,58.7],[19,35.99],[20,333.25],[21,28.24],[22,16.86],[23,12.29],[24,10.7],[25,11.68],[26,0],[27,114.39],[28,0],[29,14.74],[30,0],[31,35.76],[32,2.11],[33,0],[34,39.66],[35,0],[36,0],[37,0],[38,32.89],[39,59.86],[40,12.15],[41,20.83],[42,23.52],[43,0],[44,5.62],[45,5.36],[46,61.68],[47,0],[48,19.6],[49,0]]},{"key":"The Noise","values":[[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],[8,0],[9,0],[10,30],[11,0],[12,36],[13,0],[14,0],[15,14.14],[16,0],[17,0],[18,0],[19,0],[20,0],[21,0],[22,86.35],[23,0],[24,17.5],[25,0],[26,0],[27,0],[28,0],[29,0],[30,0],[31,0],[32,0],[33,0],[34,0],[35,0],[36,7.72],[37,0],[38,0],[39,0],[40,0],[41,0],[42,0],[43,0],[44,0],[45,0],[46,0],[47,50],[48,8.32],[49,0]]},{"key":"Shopping","values":[[2,293.47],[3,78.78],[4,13.7],[5,46.95],[6,44.32],[7,186.98],[8,79.73],[9,135.57],[10,73.15],[11,160.36],[12,148.34],[13,459.56],[14,59.2],[15,35.68],[16,34.35],[17,357.62],[18,18.31],[19,37.62],[20,46.6],[21,26.79],[22,137.36],[23,10.85],[24,214.29],[25,50],[26,50.11],[27,49.09],[28,229.56],[29,76.87],[30,417.64],[31,83.7],[32,133.02],[33,131.29],[34,173.14],[35,23.95],[36,130.32],[37,52.61],[38,12.27],[39,236.1],[40,79.16],[41,88.49],[42,299.16],[43,40.99],[44,766.16],[45,101.87],[46,0],[47,33.63],[48,153.64],[49,0]]},{"key":"Restaurants","values":[[2,67.62],[3,419.52],[4,388.07],[5,340.78],[6,264.06],[7,182.3],[8,106.89],[9,232.94],[10,135.53],[11,321.38],[12,301.6],[13,273.85],[14,171.92],[15,492.71],[16,281.47],[17,140.59],[18,208.33],[19,1607.11],[20,258.25],[21,799.58],[22,133.46],[23,201.74],[24,231.53],[25,252.38],[26,418.05],[27,255.02],[28,457.51],[29,228.61],[30,237.23],[31,150.79],[32,214.6],[33,538.65],[34,340.38],[35,184.18],[36,135.99],[37,457.84],[38,142.94],[39,199.97],[40,98.01],[41,76.56],[42,123.06],[43,315.76],[44,289.36],[45,249],[46,266.23],[47,200.44],[48,330.93],[49,19.33]]},{"key":"Transportation","values":[[2,54.3],[3,18.1],[4,66.06],[5,145.9],[6,27.24],[7,55.42],[8,12.96],[9,80],[10,0],[11,0],[12,49.58],[13,1509.5],[14,41.44],[15,112.08],[16,32.2],[17,97.28],[18,70.33],[19,39.6],[20,132.98],[21,49.94],[22,50.16],[23,47.39],[24,40.83],[25,26.25],[26,99.72],[27,30.34],[28,60.88],[29,0],[30,27.16],[31,86.33],[32,6.99],[33,72],[34,23.5],[35,0],[36,0],[37,0],[38,8.5],[39,0],[40,0],[41,86.1],[42,20.62],[43,20],[44,54.5],[45,37.75],[46,0],[47,11.4],[48,12.6],[49,0]]}];

var monthData= [{"key":"Bills/Utilities","values":[["Janurary",98.14],["Feb",348],["March",531.34],["April",788.09],["May",128],["June",366.88],["July",116.86],["Aug",119.53],["Sept",118.26],["Oct",799.12],["Nov",222.5]]},{"key":"Cash","values":[["Janurary",333.67],["Feb",766.67],["March",985.67],["April",609.99],["May",671.57],["June",433.63],["July",213.67],["Aug",2078.27],["Sept",358.17],["Oct",617.62],["Nov",648]]},{"key":"Entertainment","values":[["Janurary",174.18],["Feb",8.44],["March",23.8],["April",1],["May",20.62],["June",50.9],["July",1],["Aug",1],["Sept",71.29],["Oct",32.65],["Nov",128.48]]},{"key":"Health","values":[["Janurary",167.53],["Feb",136.36],["March",129.58],["April",208.48],["May",378.35],["June",149.06],["July",52.61],["Aug",39.66],["Sept",104.9],["Oct",55.33],["Nov",81.28]]},{"key":"noise","values":[["Janurary",30],["Feb",30],["March",36],["April",14.14],["May",86.35],["June",17.5],["July",7.72],["Aug",7.72],["Sept",7.72],["Oct",7.72],["Nov",58.32]]},{"key":"Restaurants","values":[["Janurary",847.22],["Feb",634.25],["March",955.75],["April",1002.44],["May",1056.36],["June",661.03],["July",1270.65],["Aug",755.26],["Sept",768.95],["Oct",721.91],["Nov",780.89]]},{"key":"Shopping","values":[["Janurary",1642.76],["Feb",1617.78],["March",2004.76],["April",1620.96],["May",1434.22],["June",1538.49],["July",2070.77],["Aug",437.38],["Sept",446.48],["Oct",3670.52],["Nov",1413.42]]},{"key":"Transportation","values":[["Janurary",284.36],["Feb",175.62],["March",1572.42],["April",379.59],["May",256.59],["June",221.02],["July",174.37],["Aug",102.49],["Sept",8.5],["Oct",218.97],["Nov",24]]}];

/*
// for testing single data point
var histcatexplong = [
  {
    "key" : "Consumer Discretionary" ,
    "values" : [ [ 1138683600000 , 27.38478809681]]
  } ,
  {
    "key" : "Consumer Staples" ,
    "values" : [ [ 1138683600000 , 7.2800122043237]]
  } ,
  {
    "key" : "Energy" ,
    "values" : [ [ 1138683600000 , 1.544303464167]]
  } , 
  { 
    "key" : "Financials" , 
    "values" : [ [ 1138683600000 , 13.356778764352]]
  } , 
  { 
    "key" : "Health Care" , 
    "values" : [ [ 1138683600000 , 14.212410956029]]
  } , 
  { 
    "key" : "Industrials" , 
    "values" : [ [ 1138683600000 , 7.1590087090398]]
  } , 
  { 
    "key" : "Information Technology" , 
    "values" : [ [ 1138683600000 , 13.242301508051]]
  } , 
  { 
    "key" : "Materials" , 
    "values" : [ [ 1138683600000 , 5.5806167415681]]
  } , 
  { 
    "key" : "Telecommunication Services" , 
    "values" : [ [ 1138683600000 , 3.7056975170243]]
  } , 
  { 
    "key" : "Utilities" , 
    "values" : [ [ 1138683600000 , 0]]
  } 
];
*/

/*
.map(function(series) {
  series.values = series.values.map(function(d) {
    return { x: d[0], y: d[1] }
  });
  return series;
});
*/

//an example of harmonizing colors between visualizations
//observe that Consumer Discretionary and Consumer Staples have 
//been flipped in the second chart
var colors = d3.scale.category20();
keyColor = function(d, i) {return colors(d.key)};

nv.addGraph(function() {
  var chart = nv.models.multiBarChart()
                .x(function(d) { return d[0] })
                .y(function(d) { return d[1] })
                .color(keyColor)
                //.clipEdge(true);

  chart.xAxis
  //    .tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });

  chart.yAxis
      .tickFormat(d3.format(',.2f'));

  d3.select('#chart1')
    .datum(weekData)
      .transition().duration(500).call(chart);

  nv.utils.windowResize(chart.update);

  return chart;
});

nv.addGraph(function() {
  var chart = nv.models.stackedAreaChart()
                .x(function(d) { return d[0] })
                .y(function(d) { return d[1] })
                .color(keyColor)
                //.clipEdge(true);

  chart.xAxis
 //     .tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });

  chart.yAxis
      .tickFormat(d3.format(',.1f'));

  d3.select('#chart2')
    .datum(weekData)
      .transition().duration(500).call(chart);

  nv.utils.windowResize(chart.update);

  return chart;
});



</script>
